+++
title = "[開箱]Nintendo Classic Mini童年回憶日本懷舊mini紅白機(破解)"
date = "2017-02-05"
+++

**任天堂之前公佈的「mini紅白機」
未上市前市場就熱列討論  
上市後馬上造成搶風潮，價格一直標漲    
對於大部份玩家而言，這是美好的童年回憶    
除了有收藏價值，又可以實際重玩當年的懷舊遊戲    
不買一台似乎說不過去~XD。**  

## Nintendo Classic Mini規格
 - SoC: Allwinner R16 (4x Cortex A7, Mali400MP2 GPU)
 - RAM: SKHynix (256MB DDR3)
 - Flash: Spansion 512MB SLC NAND flash, TSOP48
 - PMU: AXP223  

## 開箱嘍
某天早上起來突然有個盒子出現!    
(傳說中的半夜小精靈是真的)       

<img src="https://goo.gl/evQGpq" width="100%">  

**裡面有內建30個任天堂經典代表作**  

<img src="https://goo.gl/AAxY1H" width="100%">  

**實際的大小**  
好懷念呀~~~~~真的是縮小版的紅白機耶  

<img src="https://goo.gl/U82L8M" width="50%"><img src="https://goo.gl/g4pCKE" width="50%">

**趕快試玩一下**  
接上電源、hdmi螢幕線  
(迷你任天堂電源拉一個普通的USB埠就可以了，不一定要買專用的插頭)  
左邊的開關往上推~右邊的按鈕是reset回到主畫面  

<img src="https://goo.gl/Ep0aPj" width="100%">
<img src="https://goo.gl/wcYFy4" width="100%">

**先設定一下畫面**    

<img src="https://goo.gl/dF21sA" width="100%">
<img src="https://goo.gl/4M9U2z" width="100%">

**開玩嘍!!**  

<img src="https://goo.gl/F7K0qc" width="50%"><img src="https://goo.gl/QAlX5y" width="50%">
<img src="https://goo.gl/CB1m5r" width="100%">
<img src="https://goo.gl/GqxKlX" width="50%"><img src="https://goo.gl/RqdPPR" width="50%">

**可以隨時記錄**  
按右邊的鈕回到主畫面按下，就會出現4個記錄，家人可以不同的記錄      

<img src="https://goo.gl/VEK8bD" width="100%">  




## 以上…收工了嗎?  
**當然沒有XD**  

### 以下純屬測試實驗用，有興趣可以玩玩，測試完記得恢復原狀  
### 測試有風險!任何損壞要自行處理!  
***

## Part II
**Nintendo Classic Mini的硬體不弱**  

* 4核 ARM Cortex-A7 CPU  
* 雙核的Mali-400 GPU   
* 256MB DDR3    

**這規格比wii和3DS還好!**  
而且任天堂全部2165個遊戲也才252MB  
只能玩內建的30個遊戲太可惜了  
(Nintendo Classic Mini無法擴充)

有位俄羅斯的駭客最近公布了一個破解的方法，他表示可以透過Linux的 FEL 方式來添加遊戲，玩家只要用 USB 資料線把復刻版主機連到電腦後，即可自行添加遊戲。

關於刷機，安迪兒找了一下  
可以參考下列的資料

> https://github.com/ClusterM/hakchi2  

> https://gbatemp.net/threads/hakchi2-nes-mini-very-simple-pimp-tool.456256

> https://www.v2ex.com/t/337293  

因為原來俄羅斯madmonkey的hakchi工具有難度  
所以這位ClusterM大大幫他弄了一個好用的ui開源給大家測試  
他的github裡面也有提到原理  
大約是用FEL的方式取得linux的操控  
然後加遊戲重寫NES Mini的內核映像  
關於原來的遊戲目錄是只讀分區  
新加的是用沙箱資料匣掛載在原始遊戲文件夾  
(意思是不會改到原來的資料，都是另外加掛上去的)  

## 馬上來試試吧  
### 1. 首先找台windows  
安迪兒是用mac上模擬的win7  
打開Nintendo Classic Mini  
指定mac轉接到windows的usb埠  

![](https://goo.gl/r4OQoa)

## 2. 捉下hakchi2的工具來執行  
![](https://goo.gl/GWKV5i)  

## 3. 備份一下原來的img吧  
這邊他說要先安裝driver  
[Dump kernel]  
![](https://goo.gl/R95l1U)
![](https://goo.gl/5X38t0)

## 但安迪兒在這裡碰到雷一直失敗  
安迪兒Nintendo Classic Mini driver一直裝不起來  
直接去hakchi的driver資料匣裡直接安裝也是失敗    
後來查了一下  
http://www.amobbs.com/forum.php?mod=viewthread&tid=5598249  

找到windowos可以先用zadig裝上這類的USB驅動  
http://zadig.akeo.ie/  

但…還是失敗  
就算用zadig後還是找不到CLV-S-HVCY的driver  

後來安迪兒又看了一下他dump kernel有說到  
按住Nintendo Classic Mini reset和power鈕  

原來和手機一樣有刷機模式那類的  
於是安迪兒就試了一下關機  
然後**hold reset and turn on the Power**  

## 突然MAC捉到的usb設備不一樣了  
![](https://goo.gl/NBXE92)  

**Zading可以用了!**   

**Unknown Device#1**  
**USB ID:1F3A EFE8**    
(對照一下id，是這個id就對了)  

按下[install driver]

![](https://goo.gl/p0QJbk)  
![](https://goo.gl/OLGaCA)  

## 裝完後到hackchi2的driver測試一下  
**執行nesmini_driver.exe**    
正常可以使用了，順便再安裝一下  

![](https://goo.gl/WHQZH2)

## 執行主程式    
裝完driver，執行一下主程式   

![](https://goo.gl/ADk5DR)

## Dump Kernel  
順利的Dump出來了~XD  
<img src="https://goo.gl/Jf8WYV" width="50%"><img src="https://goo.gl/P2tG2R" width="50%">  

Dump完，多了一個Dump資料匣  
裡面有這台mini nes的原始Kernel.img  
**要好好的保存!!!**

<img src="https://goo.gl/zrYODN" width="50%"><img src="https://goo.gl/PW8U5E" width="50%">

## hackchi2的設定  
看一下其它的設定，大約是像github上有提到的  
* Allows to change any game settings including command line arguments  
* Fills all game data automatically using included database  
* Automatically checks for supported games  
* Allows to automatically search for box art using Google Images  
* Game Genie support  
* Can automatically patch problem games, patches for some popular games included in the package  
* Allows to upload hundreds of games at once  
* Allows to exit to menu using button combination instead if reset button  
* Allows to enable autofire  
* Allows to simulate start button on second controller for Famicom Mini  
* Allows to disable epilepsy protection  
* Allows to disable menu music  
![](https://goo.gl/hlSSDI)

## 測試hackchi2  
單純測試!  

按下**[add more games]**  
加入要測試的Rom  

**估狗關鍵字**

```
FC 任天堂模擬器 + 2165個遊戲 Rom (Nes) 完整版下載！  
```

<img src="https://goo.gl/231VZ5" width="50%"><img src="https://goo.gl/VFlDHn" width="50%">

## 設定一下每個Rom的內容  
新版的hackchi2可以按google搜圖  

![](https://goo.gl/7xxEsO)  

## 設定完後，開始製做新的客製kernel  
<img src="https://goo.gl/2sb5N0" width="50%"><img src="https://goo.gl/jJQ48F" width="50%">

## 完成後，會開始刷Nintendo Classic Mini  
<img src="https://goo.gl/qeVUUS" width="50%"><img src="https://goo.gl/yyaA8z" width="50%">
![](https://goo.gl/TLvBrb)  

## 緊張的時刻來嘍!!重開電源看看成果吧!  
**噢！！出現新的項目**   

![](https://goo.gl/jK6zMH)  

**試玩一下**    

<img src="https://goo.gl/ij50do" width="50%"><img src="https://goo.gl/fsCgj7" width="50%">  
<img src="https://goo.gl/SJCJIm" width="50%"><img src="https://goo.gl/tujU8e" width="50%">  

## 收工了!
放在書桌旁，還不賴，以後睡前可以玩一下懷舊小遊戲~XD    

![](https://goo.gl/Jl3mCf)  
